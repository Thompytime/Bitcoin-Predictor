{"ast":null,"code":"import { isFunction } from '@aws-amplify/ui';\nimport React__default from 'react';\n\n// default state\nconst INITIAL_STATE = {\n  hasError: false,\n  isLoading: false,\n  message: undefined\n};\nconst LOADING_STATE = {\n  hasError: false,\n  isLoading: true,\n  message: undefined\n};\nconst ERROR_STATE = {\n  hasError: true,\n  isLoading: false\n};\nconst resolveMaybeAsync = async value => {\n  const awaited = await value;\n  return awaited;\n};\nfunction useDataState(action, initialData, options) {\n  const [dataState, setDataState] = React__default.useState(() => ({\n    ...INITIAL_STATE,\n    data: initialData\n  }));\n  const prevData = React__default.useRef(initialData);\n  const {\n    onSuccess,\n    onError\n  } = options ?? {};\n  const handleAction = React__default.useCallback(input => {\n    setDataState(_ref => {\n      let {\n        data\n      } = _ref;\n      return {\n        ...LOADING_STATE,\n        data\n      };\n    });\n    resolveMaybeAsync(action(prevData.current, input)).then(data => {\n      if (isFunction(onSuccess)) onSuccess(data);\n      prevData.current = data;\n      setDataState({\n        ...INITIAL_STATE,\n        data\n      });\n    }).catch(_ref2 => {\n      let {\n        message\n      } = _ref2;\n      if (isFunction(onError)) onError(message);\n      setDataState(_ref3 => {\n        let {\n          data\n        } = _ref3;\n        return {\n          ...ERROR_STATE,\n          data,\n          message\n        };\n      });\n    });\n  }, [action, onError, onSuccess]);\n  return [dataState, handleAction];\n}\nexport { useDataState as default };","map":{"version":3,"names":["isFunction","React__default","INITIAL_STATE","hasError","isLoading","message","undefined","LOADING_STATE","ERROR_STATE","resolveMaybeAsync","value","awaited","useDataState","action","initialData","options","dataState","setDataState","useState","data","prevData","useRef","onSuccess","onError","handleAction","useCallback","input","_ref","current","then","catch","_ref2","_ref3","default"],"sources":["C:/Users/lvsct/Desktop/bitcoin-prediction/node_modules/@aws-amplify/ui-react-core/dist/esm/hooks/useDataState.mjs"],"sourcesContent":["import { isFunction } from '@aws-amplify/ui';\nimport React__default from 'react';\n\n// default state\nconst INITIAL_STATE = { hasError: false, isLoading: false, message: undefined };\nconst LOADING_STATE = { hasError: false, isLoading: true, message: undefined };\nconst ERROR_STATE = { hasError: true, isLoading: false };\nconst resolveMaybeAsync = async (value) => {\n    const awaited = await value;\n    return awaited;\n};\nfunction useDataState(action, initialData, options) {\n    const [dataState, setDataState] = React__default.useState(() => ({\n        ...INITIAL_STATE,\n        data: initialData,\n    }));\n    const prevData = React__default.useRef(initialData);\n    const { onSuccess, onError } = options ?? {};\n    const handleAction = React__default.useCallback((input) => {\n        setDataState(({ data }) => ({ ...LOADING_STATE, data }));\n        resolveMaybeAsync(action(prevData.current, input))\n            .then((data) => {\n            if (isFunction(onSuccess))\n                onSuccess(data);\n            prevData.current = data;\n            setDataState({ ...INITIAL_STATE, data });\n        })\n            .catch(({ message }) => {\n            if (isFunction(onError))\n                onError(message);\n            setDataState(({ data }) => ({ ...ERROR_STATE, data, message }));\n        });\n    }, [action, onError, onSuccess]);\n    return [dataState, handleAction];\n}\n\nexport { useDataState as default };\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,iBAAiB;AAC5C,OAAOC,cAAc,MAAM,OAAO;;AAElC;AACA,MAAMC,aAAa,GAAG;EAAEC,QAAQ,EAAE,KAAK;EAAEC,SAAS,EAAE,KAAK;EAAEC,OAAO,EAAEC;AAAU,CAAC;AAC/E,MAAMC,aAAa,GAAG;EAAEJ,QAAQ,EAAE,KAAK;EAAEC,SAAS,EAAE,IAAI;EAAEC,OAAO,EAAEC;AAAU,CAAC;AAC9E,MAAME,WAAW,GAAG;EAAEL,QAAQ,EAAE,IAAI;EAAEC,SAAS,EAAE;AAAM,CAAC;AACxD,MAAMK,iBAAiB,GAAG,MAAOC,KAAK,IAAK;EACvC,MAAMC,OAAO,GAAG,MAAMD,KAAK;EAC3B,OAAOC,OAAO;AAClB,CAAC;AACD,SAASC,YAAYA,CAACC,MAAM,EAAEC,WAAW,EAAEC,OAAO,EAAE;EAChD,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGhB,cAAc,CAACiB,QAAQ,CAAC,OAAO;IAC7D,GAAGhB,aAAa;IAChBiB,IAAI,EAAEL;EACV,CAAC,CAAC,CAAC;EACH,MAAMM,QAAQ,GAAGnB,cAAc,CAACoB,MAAM,CAACP,WAAW,CAAC;EACnD,MAAM;IAAEQ,SAAS;IAAEC;EAAQ,CAAC,GAAGR,OAAO,IAAI,CAAC,CAAC;EAC5C,MAAMS,YAAY,GAAGvB,cAAc,CAACwB,WAAW,CAAEC,KAAK,IAAK;IACvDT,YAAY,CAACU,IAAA;MAAA,IAAC;QAAER;MAAK,CAAC,GAAAQ,IAAA;MAAA,OAAM;QAAE,GAAGpB,aAAa;QAAEY;MAAK,CAAC;IAAA,CAAC,CAAC;IACxDV,iBAAiB,CAACI,MAAM,CAACO,QAAQ,CAACQ,OAAO,EAAEF,KAAK,CAAC,CAAC,CAC7CG,IAAI,CAAEV,IAAI,IAAK;MAChB,IAAInB,UAAU,CAACsB,SAAS,CAAC,EACrBA,SAAS,CAACH,IAAI,CAAC;MACnBC,QAAQ,CAACQ,OAAO,GAAGT,IAAI;MACvBF,YAAY,CAAC;QAAE,GAAGf,aAAa;QAAEiB;MAAK,CAAC,CAAC;IAC5C,CAAC,CAAC,CACGW,KAAK,CAACC,KAAA,IAAiB;MAAA,IAAhB;QAAE1B;MAAQ,CAAC,GAAA0B,KAAA;MACnB,IAAI/B,UAAU,CAACuB,OAAO,CAAC,EACnBA,OAAO,CAAClB,OAAO,CAAC;MACpBY,YAAY,CAACe,KAAA;QAAA,IAAC;UAAEb;QAAK,CAAC,GAAAa,KAAA;QAAA,OAAM;UAAE,GAAGxB,WAAW;UAAEW,IAAI;UAAEd;QAAQ,CAAC;MAAA,CAAC,CAAC;IACnE,CAAC,CAAC;EACN,CAAC,EAAE,CAACQ,MAAM,EAAEU,OAAO,EAAED,SAAS,CAAC,CAAC;EAChC,OAAO,CAACN,SAAS,EAAEQ,YAAY,CAAC;AACpC;AAEA,SAASZ,YAAY,IAAIqB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}