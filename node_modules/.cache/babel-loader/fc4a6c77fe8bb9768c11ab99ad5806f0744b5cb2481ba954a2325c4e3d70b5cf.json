{"ast":null,"code":"import { StorageAction } from '@aws-amplify/core/internals/utils';\nimport '@smithy/md5-js';\nimport '@aws-amplify/core/internals/aws-client-utils';\nimport '../../utils/client/runtime/s3TransferHandler/fetch.mjs';\nimport 'fast-xml-parser';\nimport '../../utils/client/runtime/s3TransferHandler/xhr.mjs';\nimport 'buffer';\nimport { resolveS3ConfigAndInput } from '../../utils/resolveS3ConfigAndInput.mjs';\nimport '../../../../errors/types/validation.mjs';\nimport { logger } from '../../../../utils/logger.mjs';\nimport { validateBucketOwnerID } from '../../utils/validateBucketOwnerID.mjs';\nimport { DEFAULT_DELIMITER, STORAGE_INPUT_PREFIX } from '../../utils/constants.mjs';\nimport { validateStorageOperationInputWithPrefix } from '../../utils/validateStorageOperationInputWithPrefix.mjs';\nimport { urlDecode } from '../../utils/urlDecoder.mjs';\nimport '../../utils/client/s3data/base.mjs';\nimport '../../utils/client/s3data/getObject.mjs';\nimport { listObjectsV2 } from '../../utils/client/s3data/listObjectsV2.mjs';\nimport '../../utils/client/s3data/putObject.mjs';\nimport '../../utils/client/s3data/createMultipartUpload.mjs';\nimport '../../utils/client/s3data/uploadPart.mjs';\nimport '../../utils/client/s3data/completeMultipartUpload.mjs';\nimport '../../utils/client/s3data/listParts.mjs';\nimport '../../utils/client/s3data/abortMultipartUpload.mjs';\nimport '../../utils/client/s3data/copyObject.mjs';\nimport '../../utils/client/s3data/headObject.mjs';\nimport '../../utils/client/s3data/deleteObject.mjs';\nimport { getStorageUserAgentValue } from '../../utils/userAgent.mjs';\nimport { IntegrityError } from '../../../../errors/IntegrityError.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst MAX_PAGE_SIZE = 1000;\nconst list = async (amplify, input) => {\n  const {\n    options = {}\n  } = input;\n  const {\n    s3Config,\n    bucket,\n    keyPrefix: generatedPrefix,\n    identityId\n  } = await resolveS3ConfigAndInput(amplify, input);\n  const {\n    inputType,\n    objectKey\n  } = validateStorageOperationInputWithPrefix(input, identityId);\n  validateBucketOwnerID(options.expectedBucketOwner);\n  const isInputWithPrefix = inputType === STORAGE_INPUT_PREFIX;\n  // @ts-expect-error pageSize and nextToken should not coexist with listAll\n  if (options?.listAll && (options?.pageSize || options?.nextToken)) {\n    const anyOptions = options;\n    logger.debug(`listAll is set to true, ignoring ${anyOptions?.pageSize ? `pageSize: ${anyOptions?.pageSize}` : ''} ${anyOptions?.nextToken ? `nextToken: ${anyOptions?.nextToken}` : ''}.`);\n  }\n  const listParams = {\n    Bucket: bucket,\n    Prefix: isInputWithPrefix ? `${generatedPrefix}${objectKey}` : objectKey,\n    MaxKeys: options?.listAll ? undefined : options?.pageSize,\n    ContinuationToken: options?.listAll ? undefined : options?.nextToken,\n    Delimiter: getDelimiter(options),\n    ExpectedBucketOwner: options?.expectedBucketOwner,\n    EncodingType: 'url'\n  };\n  logger.debug(`listing items from \"${listParams.Prefix}\"`);\n  const listInputArgs = {\n    s3Config,\n    listParams\n  };\n  if (options.listAll) {\n    if (isInputWithPrefix) {\n      return _listAllWithPrefix({\n        ...listInputArgs,\n        generatedPrefix\n      });\n    } else {\n      return _listAllWithPath(listInputArgs);\n    }\n  } else {\n    if (isInputWithPrefix) {\n      return _listWithPrefix({\n        ...listInputArgs,\n        generatedPrefix\n      });\n    } else {\n      return _listWithPath(listInputArgs);\n    }\n  }\n};\n/** @deprecated Use {@link _listAllWithPath} instead. */\nconst _listAllWithPrefix = async _ref => {\n  let {\n    s3Config,\n    listParams,\n    generatedPrefix\n  } = _ref;\n  const listResult = [];\n  let continuationToken = listParams.ContinuationToken;\n  do {\n    const {\n      items: pageResults,\n      nextToken: pageNextToken\n    } = await _listWithPrefix({\n      generatedPrefix,\n      s3Config,\n      listParams: {\n        ...listParams,\n        ContinuationToken: continuationToken,\n        MaxKeys: MAX_PAGE_SIZE\n      }\n    });\n    listResult.push(...pageResults);\n    continuationToken = pageNextToken;\n  } while (continuationToken);\n  return {\n    items: listResult\n  };\n};\n/** @deprecated Use {@link _listWithPath} instead. */\nconst _listWithPrefix = async _ref2 => {\n  let {\n    s3Config,\n    listParams,\n    generatedPrefix\n  } = _ref2;\n  const listParamsClone = {\n    ...listParams\n  };\n  if (!listParamsClone.MaxKeys || listParamsClone.MaxKeys > MAX_PAGE_SIZE) {\n    logger.debug(`defaulting pageSize to ${MAX_PAGE_SIZE}.`);\n    listParamsClone.MaxKeys = MAX_PAGE_SIZE;\n  }\n  const response = await listObjectsV2({\n    ...s3Config,\n    userAgentValue: getStorageUserAgentValue(StorageAction.List)\n  }, listParamsClone);\n  const listOutput = decodeEncodedElements(response);\n  validateEchoedElements(listParamsClone, listOutput);\n  if (!listOutput?.Contents) {\n    return {\n      items: []\n    };\n  }\n  return {\n    items: listOutput.Contents.map(item => ({\n      key: generatedPrefix ? item.Key.substring(generatedPrefix.length) : item.Key,\n      eTag: item.ETag,\n      lastModified: item.LastModified,\n      size: item.Size\n    })),\n    nextToken: listOutput.NextContinuationToken\n  };\n};\nconst _listAllWithPath = async _ref3 => {\n  let {\n    s3Config,\n    listParams\n  } = _ref3;\n  const listResult = [];\n  const excludedSubpaths = [];\n  let continuationToken = listParams.ContinuationToken;\n  do {\n    const {\n      items: pageResults,\n      excludedSubpaths: pageExcludedSubpaths,\n      nextToken: pageNextToken\n    } = await _listWithPath({\n      s3Config,\n      listParams: {\n        ...listParams,\n        ContinuationToken: continuationToken,\n        MaxKeys: MAX_PAGE_SIZE\n      }\n    });\n    listResult.push(...pageResults);\n    excludedSubpaths.push(...(pageExcludedSubpaths ?? []));\n    continuationToken = pageNextToken;\n  } while (continuationToken);\n  return {\n    items: listResult,\n    excludedSubpaths\n  };\n};\nconst _listWithPath = async _ref4 => {\n  let {\n    s3Config,\n    listParams\n  } = _ref4;\n  const listParamsClone = {\n    ...listParams\n  };\n  if (!listParamsClone.MaxKeys || listParamsClone.MaxKeys > MAX_PAGE_SIZE) {\n    logger.debug(`defaulting pageSize to ${MAX_PAGE_SIZE}.`);\n    listParamsClone.MaxKeys = MAX_PAGE_SIZE;\n  }\n  const response = await listObjectsV2({\n    ...s3Config,\n    userAgentValue: getStorageUserAgentValue(StorageAction.List)\n  }, listParamsClone);\n  const listOutput = decodeEncodedElements(response);\n  validateEchoedElements(listParamsClone, listOutput);\n  const {\n    Contents: contents,\n    NextContinuationToken: nextContinuationToken,\n    CommonPrefixes: commonPrefixes\n  } = listOutput;\n  const excludedSubpaths = commonPrefixes && mapCommonPrefixesToExcludedSubpaths(commonPrefixes);\n  if (!contents) {\n    return {\n      items: [],\n      nextToken: nextContinuationToken,\n      excludedSubpaths\n    };\n  }\n  return {\n    items: contents.map(item => ({\n      path: item.Key,\n      eTag: item.ETag,\n      lastModified: item.LastModified,\n      size: item.Size\n    })),\n    nextToken: nextContinuationToken,\n    excludedSubpaths\n  };\n};\nconst mapCommonPrefixesToExcludedSubpaths = commonPrefixes => {\n  return commonPrefixes.reduce((mappedSubpaths, _ref5) => {\n    let {\n      Prefix\n    } = _ref5;\n    if (Prefix) {\n      mappedSubpaths.push(Prefix);\n    }\n    return mappedSubpaths;\n  }, []);\n};\nconst getDelimiter = options => {\n  if (options?.subpathStrategy?.strategy === 'exclude') {\n    return options?.subpathStrategy?.delimiter ?? DEFAULT_DELIMITER;\n  }\n};\nconst validateEchoedElements = (listInput, listOutput) => {\n  const validEchoedParameters = listInput.Bucket === listOutput.Name && listInput.Delimiter === listOutput.Delimiter && listInput.MaxKeys === listOutput.MaxKeys && listInput.Prefix === listOutput.Prefix && listInput.ContinuationToken === listOutput.ContinuationToken;\n  if (!validEchoedParameters) {\n    throw new IntegrityError();\n  }\n};\n/**\n * Decodes URL-encoded elements in the S3 `ListObjectsV2Output` response when `EncodingType` is `'url'`.\n * Applies to values for 'Delimiter', 'Prefix', 'StartAfter' and 'Key' in the response.\n */\nconst decodeEncodedElements = listOutput => {\n  if (listOutput.EncodingType !== 'url') {\n    return listOutput;\n  }\n  const decodedListOutput = {\n    ...listOutput\n  };\n  // Decode top-level properties\n  ['Delimiter', 'Prefix', 'StartAfter'].forEach(prop => {\n    const value = listOutput[prop];\n    if (typeof value === 'string') {\n      decodedListOutput[prop] = urlDecode(value);\n    }\n  });\n  // Decode 'Key' in each item of 'Contents', if it exists\n  if (listOutput.Contents) {\n    decodedListOutput.Contents = listOutput.Contents.map(content => ({\n      ...content,\n      Key: content.Key ? urlDecode(content.Key) : content.Key\n    }));\n  }\n  // Decode 'Prefix' in each item of 'CommonPrefixes', if it exists\n  if (listOutput.CommonPrefixes) {\n    decodedListOutput.CommonPrefixes = listOutput.CommonPrefixes.map(content => ({\n      ...content,\n      Prefix: content.Prefix ? urlDecode(content.Prefix) : content.Prefix\n    }));\n  }\n  return decodedListOutput;\n};\nexport { list };","map":{"version":3,"names":["MAX_PAGE_SIZE","list","amplify","input","options","s3Config","bucket","keyPrefix","generatedPrefix","identityId","resolveS3ConfigAndInput","inputType","objectKey","validateStorageOperationInputWithPrefix","validateBucketOwnerID","expectedBucketOwner","isInputWithPrefix","STORAGE_INPUT_PREFIX","listAll","pageSize","nextToken","anyOptions","logger","debug","listParams","Bucket","Prefix","MaxKeys","undefined","ContinuationToken","Delimiter","getDelimiter","ExpectedBucketOwner","EncodingType","listInputArgs","_listAllWithPrefix","_listAllWithPath","_listWithPrefix","_listWithPath","_ref","listResult","continuationToken","items","pageResults","pageNextToken","push","_ref2","listParamsClone","response","listObjectsV2","userAgentValue","getStorageUserAgentValue","StorageAction","List","listOutput","decodeEncodedElements","validateEchoedElements","Contents","map","item","key","Key","substring","length","eTag","ETag","lastModified","LastModified","size","Size","NextContinuationToken","_ref3","excludedSubpaths","pageExcludedSubpaths","_ref4","contents","nextContinuationToken","CommonPrefixes","commonPrefixes","mapCommonPrefixesToExcludedSubpaths","path","reduce","mappedSubpaths","_ref5","subpathStrategy","strategy","delimiter","DEFAULT_DELIMITER","listInput","validEchoedParameters","Name","IntegrityError","decodedListOutput","forEach","prop","value","urlDecode","content"],"sources":["C:\\Users\\lvsct\\Desktop\\bitcoin-prediction\\node_modules\\@aws-amplify\\storage\\src\\providers\\s3\\apis\\internal\\list.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { StorageAction } from '@aws-amplify/core/internals/utils';\nimport { resolveS3ConfigAndInput, urlDecode, validateBucketOwnerID, validateStorageOperationInputWithPrefix, } from '../../utils';\nimport { listObjectsV2, } from '../../utils/client/s3data';\nimport { getStorageUserAgentValue } from '../../utils/userAgent';\nimport { logger } from '../../../../utils';\nimport { DEFAULT_DELIMITER, STORAGE_INPUT_PREFIX } from '../../utils/constants';\nimport { IntegrityError } from '../../../../errors/IntegrityError';\nconst MAX_PAGE_SIZE = 1000;\nexport const list = async (amplify, input) => {\n    const { options = {} } = input;\n    const { s3Config, bucket, keyPrefix: generatedPrefix, identityId, } = await resolveS3ConfigAndInput(amplify, input);\n    const { inputType, objectKey } = validateStorageOperationInputWithPrefix(input, identityId);\n    validateBucketOwnerID(options.expectedBucketOwner);\n    const isInputWithPrefix = inputType === STORAGE_INPUT_PREFIX;\n    // @ts-expect-error pageSize and nextToken should not coexist with listAll\n    if (options?.listAll && (options?.pageSize || options?.nextToken)) {\n        const anyOptions = options;\n        logger.debug(`listAll is set to true, ignoring ${anyOptions?.pageSize ? `pageSize: ${anyOptions?.pageSize}` : ''} ${anyOptions?.nextToken ? `nextToken: ${anyOptions?.nextToken}` : ''}.`);\n    }\n    const listParams = {\n        Bucket: bucket,\n        Prefix: isInputWithPrefix ? `${generatedPrefix}${objectKey}` : objectKey,\n        MaxKeys: options?.listAll ? undefined : options?.pageSize,\n        ContinuationToken: options?.listAll ? undefined : options?.nextToken,\n        Delimiter: getDelimiter(options),\n        ExpectedBucketOwner: options?.expectedBucketOwner,\n        EncodingType: 'url',\n    };\n    logger.debug(`listing items from \"${listParams.Prefix}\"`);\n    const listInputArgs = {\n        s3Config,\n        listParams,\n    };\n    if (options.listAll) {\n        if (isInputWithPrefix) {\n            return _listAllWithPrefix({\n                ...listInputArgs,\n                generatedPrefix,\n            });\n        }\n        else {\n            return _listAllWithPath(listInputArgs);\n        }\n    }\n    else {\n        if (isInputWithPrefix) {\n            return _listWithPrefix({ ...listInputArgs, generatedPrefix });\n        }\n        else {\n            return _listWithPath(listInputArgs);\n        }\n    }\n};\n/** @deprecated Use {@link _listAllWithPath} instead. */\nconst _listAllWithPrefix = async ({ s3Config, listParams, generatedPrefix, }) => {\n    const listResult = [];\n    let continuationToken = listParams.ContinuationToken;\n    do {\n        const { items: pageResults, nextToken: pageNextToken } = await _listWithPrefix({\n            generatedPrefix,\n            s3Config,\n            listParams: {\n                ...listParams,\n                ContinuationToken: continuationToken,\n                MaxKeys: MAX_PAGE_SIZE,\n            },\n        });\n        listResult.push(...pageResults);\n        continuationToken = pageNextToken;\n    } while (continuationToken);\n    return {\n        items: listResult,\n    };\n};\n/** @deprecated Use {@link _listWithPath} instead. */\nconst _listWithPrefix = async ({ s3Config, listParams, generatedPrefix, }) => {\n    const listParamsClone = { ...listParams };\n    if (!listParamsClone.MaxKeys || listParamsClone.MaxKeys > MAX_PAGE_SIZE) {\n        logger.debug(`defaulting pageSize to ${MAX_PAGE_SIZE}.`);\n        listParamsClone.MaxKeys = MAX_PAGE_SIZE;\n    }\n    const response = await listObjectsV2({\n        ...s3Config,\n        userAgentValue: getStorageUserAgentValue(StorageAction.List),\n    }, listParamsClone);\n    const listOutput = decodeEncodedElements(response);\n    validateEchoedElements(listParamsClone, listOutput);\n    if (!listOutput?.Contents) {\n        return {\n            items: [],\n        };\n    }\n    return {\n        items: listOutput.Contents.map(item => ({\n            key: generatedPrefix\n                ? item.Key.substring(generatedPrefix.length)\n                : item.Key,\n            eTag: item.ETag,\n            lastModified: item.LastModified,\n            size: item.Size,\n        })),\n        nextToken: listOutput.NextContinuationToken,\n    };\n};\nconst _listAllWithPath = async ({ s3Config, listParams, }) => {\n    const listResult = [];\n    const excludedSubpaths = [];\n    let continuationToken = listParams.ContinuationToken;\n    do {\n        const { items: pageResults, excludedSubpaths: pageExcludedSubpaths, nextToken: pageNextToken, } = await _listWithPath({\n            s3Config,\n            listParams: {\n                ...listParams,\n                ContinuationToken: continuationToken,\n                MaxKeys: MAX_PAGE_SIZE,\n            },\n        });\n        listResult.push(...pageResults);\n        excludedSubpaths.push(...(pageExcludedSubpaths ?? []));\n        continuationToken = pageNextToken;\n    } while (continuationToken);\n    return {\n        items: listResult,\n        excludedSubpaths,\n    };\n};\nconst _listWithPath = async ({ s3Config, listParams, }) => {\n    const listParamsClone = { ...listParams };\n    if (!listParamsClone.MaxKeys || listParamsClone.MaxKeys > MAX_PAGE_SIZE) {\n        logger.debug(`defaulting pageSize to ${MAX_PAGE_SIZE}.`);\n        listParamsClone.MaxKeys = MAX_PAGE_SIZE;\n    }\n    const response = await listObjectsV2({\n        ...s3Config,\n        userAgentValue: getStorageUserAgentValue(StorageAction.List),\n    }, listParamsClone);\n    const listOutput = decodeEncodedElements(response);\n    validateEchoedElements(listParamsClone, listOutput);\n    const { Contents: contents, NextContinuationToken: nextContinuationToken, CommonPrefixes: commonPrefixes, } = listOutput;\n    const excludedSubpaths = commonPrefixes && mapCommonPrefixesToExcludedSubpaths(commonPrefixes);\n    if (!contents) {\n        return {\n            items: [],\n            nextToken: nextContinuationToken,\n            excludedSubpaths,\n        };\n    }\n    return {\n        items: contents.map(item => ({\n            path: item.Key,\n            eTag: item.ETag,\n            lastModified: item.LastModified,\n            size: item.Size,\n        })),\n        nextToken: nextContinuationToken,\n        excludedSubpaths,\n    };\n};\nconst mapCommonPrefixesToExcludedSubpaths = (commonPrefixes) => {\n    return commonPrefixes.reduce((mappedSubpaths, { Prefix }) => {\n        if (Prefix) {\n            mappedSubpaths.push(Prefix);\n        }\n        return mappedSubpaths;\n    }, []);\n};\nconst getDelimiter = (options) => {\n    if (options?.subpathStrategy?.strategy === 'exclude') {\n        return options?.subpathStrategy?.delimiter ?? DEFAULT_DELIMITER;\n    }\n};\nconst validateEchoedElements = (listInput, listOutput) => {\n    const validEchoedParameters = listInput.Bucket === listOutput.Name &&\n        listInput.Delimiter === listOutput.Delimiter &&\n        listInput.MaxKeys === listOutput.MaxKeys &&\n        listInput.Prefix === listOutput.Prefix &&\n        listInput.ContinuationToken === listOutput.ContinuationToken;\n    if (!validEchoedParameters) {\n        throw new IntegrityError();\n    }\n};\n/**\n * Decodes URL-encoded elements in the S3 `ListObjectsV2Output` response when `EncodingType` is `'url'`.\n * Applies to values for 'Delimiter', 'Prefix', 'StartAfter' and 'Key' in the response.\n */\nconst decodeEncodedElements = (listOutput) => {\n    if (listOutput.EncodingType !== 'url') {\n        return listOutput;\n    }\n    const decodedListOutput = { ...listOutput };\n    // Decode top-level properties\n    ['Delimiter', 'Prefix', 'StartAfter'].forEach(prop => {\n        const value = listOutput[prop];\n        if (typeof value === 'string') {\n            decodedListOutput[prop] = urlDecode(value);\n        }\n    });\n    // Decode 'Key' in each item of 'Contents', if it exists\n    if (listOutput.Contents) {\n        decodedListOutput.Contents = listOutput.Contents.map(content => ({\n            ...content,\n            Key: content.Key ? urlDecode(content.Key) : content.Key,\n        }));\n    }\n    // Decode 'Prefix' in each item of 'CommonPrefixes', if it exists\n    if (listOutput.CommonPrefixes) {\n        decodedListOutput.CommonPrefixes = listOutput.CommonPrefixes.map(content => ({\n            ...content,\n            Prefix: content.Prefix ? urlDecode(content.Prefix) : content.Prefix,\n        }));\n    }\n    return decodedListOutput;\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAQA,MAAMA,aAAa,GAAG,IAAI;AACd,MAACC,IAAI,GAAG,MAAAA,CAAOC,OAAO,EAAEC,KAAK,KAAK;EAC1C,MAAM;IAAEC,OAAO,GAAG;EAAE,CAAE,GAAGD,KAAK;EAC9B,MAAM;IAAEE,QAAQ;IAAEC,MAAM;IAAEC,SAAS,EAAEC,eAAe;IAAEC;EAAU,CAAG,GAAG,MAAMC,uBAAuB,CAACR,OAAO,EAAEC,KAAK,CAAC;EACnH,MAAM;IAAEQ,SAAS;IAAEC;EAAS,CAAE,GAAGC,uCAAuC,CAACV,KAAK,EAAEM,UAAU,CAAC;EAC3FK,qBAAqB,CAACV,OAAO,CAACW,mBAAmB,CAAC;EAClD,MAAMC,iBAAiB,GAAGL,SAAS,KAAKM,oBAAoB;EAChE;EACI,IAAIb,OAAO,EAAEc,OAAO,KAAKd,OAAO,EAAEe,QAAQ,IAAIf,OAAO,EAAEgB,SAAS,CAAC,EAAE;IAC/D,MAAMC,UAAU,GAAGjB,OAAO;IAC1BkB,MAAM,CAACC,KAAK,CAAC,oCAAoCF,UAAU,EAAEF,QAAQ,GAAG,aAAaE,UAAU,EAAEF,QAAQ,EAAE,GAAG,EAAE,IAAIE,UAAU,EAAED,SAAS,GAAG,cAAcC,UAAU,EAAED,SAAS,EAAE,GAAG,EAAE,GAAG,CAAC;EAClM;EACI,MAAMI,UAAU,GAAG;IACfC,MAAM,EAAEnB,MAAM;IACdoB,MAAM,EAAEV,iBAAiB,GAAG,GAAGR,eAAe,GAAGI,SAAS,EAAE,GAAGA,SAAS;IACxEe,OAAO,EAAEvB,OAAO,EAAEc,OAAO,GAAGU,SAAS,GAAGxB,OAAO,EAAEe,QAAQ;IACzDU,iBAAiB,EAAEzB,OAAO,EAAEc,OAAO,GAAGU,SAAS,GAAGxB,OAAO,EAAEgB,SAAS;IACpEU,SAAS,EAAEC,YAAY,CAAC3B,OAAO,CAAC;IAChC4B,mBAAmB,EAAE5B,OAAO,EAAEW,mBAAmB;IACjDkB,YAAY,EAAE;EACtB,CAAK;EACDX,MAAM,CAACC,KAAK,CAAC,uBAAuBC,UAAU,CAACE,MAAM,GAAG,CAAC;EACzD,MAAMQ,aAAa,GAAG;IAClB7B,QAAQ;IACRmB;EACR,CAAK;EACD,IAAIpB,OAAO,CAACc,OAAO,EAAE;IACjB,IAAIF,iBAAiB,EAAE;MACnB,OAAOmB,kBAAkB,CAAC;QACtB,GAAGD,aAAa;QAChB1B;MAChB,CAAa,CAAC;IACd,CAAS,MACI;MACD,OAAO4B,gBAAgB,CAACF,aAAa,CAAC;IAClD;EACA,CAAK,MACI;IACD,IAAIlB,iBAAiB,EAAE;MACnB,OAAOqB,eAAe,CAAC;QAAE,GAAGH,aAAa;QAAE1B;MAAe,CAAE,CAAC;IACzE,CAAS,MACI;MACD,OAAO8B,aAAa,CAACJ,aAAa,CAAC;IAC/C;EACA;AACA;AACA;AACA,MAAMC,kBAAkB,GAAG,MAAAI,IAAA,IAAsD;EAAA,IAA/C;IAAElC,QAAQ;IAAEmB,UAAU;IAAEhB;EAAe,CAAG,GAAA+B,IAAA;EACxE,MAAMC,UAAU,GAAG,EAAE;EACrB,IAAIC,iBAAiB,GAAGjB,UAAU,CAACK,iBAAiB;EACpD,GAAG;IACC,MAAM;MAAEa,KAAK,EAAEC,WAAW;MAAEvB,SAAS,EAAEwB;IAAa,CAAE,GAAG,MAAMP,eAAe,CAAC;MAC3E7B,eAAe;MACfH,QAAQ;MACRmB,UAAU,EAAE;QACR,GAAGA,UAAU;QACbK,iBAAiB,EAAEY,iBAAiB;QACpCd,OAAO,EAAE3B;MACzB;IACA,CAAS,CAAC;IACFwC,UAAU,CAACK,IAAI,CAAC,GAAGF,WAAW,CAAC;IAC/BF,iBAAiB,GAAGG,aAAa;EACzC,CAAK,QAAQH,iBAAiB;EAC1B,OAAO;IACHC,KAAK,EAAEF;EACf,CAAK;AACL,CAAC;AACD;AACA,MAAMH,eAAe,GAAG,MAAAS,KAAA,IAAsD;EAAA,IAA/C;IAAEzC,QAAQ;IAAEmB,UAAU;IAAEhB;EAAe,CAAG,GAAAsC,KAAA;EACrE,MAAMC,eAAe,GAAG;IAAE,GAAGvB;EAAU,CAAE;EACzC,IAAI,CAACuB,eAAe,CAACpB,OAAO,IAAIoB,eAAe,CAACpB,OAAO,GAAG3B,aAAa,EAAE;IACrEsB,MAAM,CAACC,KAAK,CAAC,0BAA0BvB,aAAa,GAAG,CAAC;IACxD+C,eAAe,CAACpB,OAAO,GAAG3B,aAAa;EAC/C;EACI,MAAMgD,QAAQ,GAAG,MAAMC,aAAa,CAAC;IACjC,GAAG5C,QAAQ;IACX6C,cAAc,EAAEC,wBAAwB,CAACC,aAAa,CAACC,IAAI;EACnE,CAAK,EAAEN,eAAe,CAAC;EACnB,MAAMO,UAAU,GAAGC,qBAAqB,CAACP,QAAQ,CAAC;EAClDQ,sBAAsB,CAACT,eAAe,EAAEO,UAAU,CAAC;EACnD,IAAI,CAACA,UAAU,EAAEG,QAAQ,EAAE;IACvB,OAAO;MACHf,KAAK,EAAE;IACnB,CAAS;EACT;EACI,OAAO;IACHA,KAAK,EAAEY,UAAU,CAACG,QAAQ,CAACC,GAAG,CAACC,IAAI,KAAK;MACpCC,GAAG,EAAEpD,eAAe,GACdmD,IAAI,CAACE,GAAG,CAACC,SAAS,CAACtD,eAAe,CAACuD,MAAM,CAAC,GAC1CJ,IAAI,CAACE,GAAG;MACdG,IAAI,EAAEL,IAAI,CAACM,IAAI;MACfC,YAAY,EAAEP,IAAI,CAACQ,YAAY;MAC/BC,IAAI,EAAET,IAAI,CAACU;IACvB,CAAS,CAAC,CAAC;IACHjD,SAAS,EAAEkC,UAAU,CAACgB;EAC9B,CAAK;AACL,CAAC;AACD,MAAMlC,gBAAgB,GAAG,MAAAmC,KAAA,IAAqC;EAAA,IAA9B;IAAElE,QAAQ;IAAEmB;EAAU,CAAG,GAAA+C,KAAA;EACrD,MAAM/B,UAAU,GAAG,EAAE;EACrB,MAAMgC,gBAAgB,GAAG,EAAE;EAC3B,IAAI/B,iBAAiB,GAAGjB,UAAU,CAACK,iBAAiB;EACpD,GAAG;IACC,MAAM;MAAEa,KAAK,EAAEC,WAAW;MAAE6B,gBAAgB,EAAEC,oBAAoB;MAAErD,SAAS,EAAEwB;IAAa,CAAG,GAAG,MAAMN,aAAa,CAAC;MAClHjC,QAAQ;MACRmB,UAAU,EAAE;QACR,GAAGA,UAAU;QACbK,iBAAiB,EAAEY,iBAAiB;QACpCd,OAAO,EAAE3B;MACzB;IACA,CAAS,CAAC;IACFwC,UAAU,CAACK,IAAI,CAAC,GAAGF,WAAW,CAAC;IAC/B6B,gBAAgB,CAAC3B,IAAI,CAAC,IAAI4B,oBAAoB,IAAI,EAAE,CAAC,CAAC;IACtDhC,iBAAiB,GAAGG,aAAa;EACzC,CAAK,QAAQH,iBAAiB;EAC1B,OAAO;IACHC,KAAK,EAAEF,UAAU;IACjBgC;EACR,CAAK;AACL,CAAC;AACD,MAAMlC,aAAa,GAAG,MAAAoC,KAAA,IAAqC;EAAA,IAA9B;IAAErE,QAAQ;IAAEmB;EAAU,CAAG,GAAAkD,KAAA;EAClD,MAAM3B,eAAe,GAAG;IAAE,GAAGvB;EAAU,CAAE;EACzC,IAAI,CAACuB,eAAe,CAACpB,OAAO,IAAIoB,eAAe,CAACpB,OAAO,GAAG3B,aAAa,EAAE;IACrEsB,MAAM,CAACC,KAAK,CAAC,0BAA0BvB,aAAa,GAAG,CAAC;IACxD+C,eAAe,CAACpB,OAAO,GAAG3B,aAAa;EAC/C;EACI,MAAMgD,QAAQ,GAAG,MAAMC,aAAa,CAAC;IACjC,GAAG5C,QAAQ;IACX6C,cAAc,EAAEC,wBAAwB,CAACC,aAAa,CAACC,IAAI;EACnE,CAAK,EAAEN,eAAe,CAAC;EACnB,MAAMO,UAAU,GAAGC,qBAAqB,CAACP,QAAQ,CAAC;EAClDQ,sBAAsB,CAACT,eAAe,EAAEO,UAAU,CAAC;EACnD,MAAM;IAAEG,QAAQ,EAAEkB,QAAQ;IAAEL,qBAAqB,EAAEM,qBAAqB;IAAEC,cAAc,EAAEC;EAAc,CAAG,GAAGxB,UAAU;EACxH,MAAMkB,gBAAgB,GAAGM,cAAc,IAAIC,mCAAmC,CAACD,cAAc,CAAC;EAC9F,IAAI,CAACH,QAAQ,EAAE;IACX,OAAO;MACHjC,KAAK,EAAE,EAAE;MACTtB,SAAS,EAAEwD,qBAAqB;MAChCJ;IACZ,CAAS;EACT;EACI,OAAO;IACH9B,KAAK,EAAEiC,QAAQ,CAACjB,GAAG,CAACC,IAAI,KAAK;MACzBqB,IAAI,EAAErB,IAAI,CAACE,GAAG;MACdG,IAAI,EAAEL,IAAI,CAACM,IAAI;MACfC,YAAY,EAAEP,IAAI,CAACQ,YAAY;MAC/BC,IAAI,EAAET,IAAI,CAACU;IACvB,CAAS,CAAC,CAAC;IACHjD,SAAS,EAAEwD,qBAAqB;IAChCJ;EACR,CAAK;AACL,CAAC;AACD,MAAMO,mCAAmC,GAAID,cAAc,IAAK;EAC5D,OAAOA,cAAc,CAACG,MAAM,CAAC,CAACC,cAAc,EAAAC,KAAA,KAAiB;IAAA,IAAf;MAAEzD;IAAM,CAAE,GAAAyD,KAAA;IACpD,IAAIzD,MAAM,EAAE;MACRwD,cAAc,CAACrC,IAAI,CAACnB,MAAM,CAAC;IACvC;IACQ,OAAOwD,cAAc;EAC7B,CAAK,EAAE,EAAE,CAAC;AACV,CAAC;AACD,MAAMnD,YAAY,GAAI3B,OAAO,IAAK;EAC9B,IAAIA,OAAO,EAAEgF,eAAe,EAAEC,QAAQ,KAAK,SAAS,EAAE;IAClD,OAAOjF,OAAO,EAAEgF,eAAe,EAAEE,SAAS,IAAIC,iBAAiB;EACvE;AACA,CAAC;AACD,MAAM/B,sBAAsB,GAAGA,CAACgC,SAAS,EAAElC,UAAU,KAAK;EACtD,MAAMmC,qBAAqB,GAAGD,SAAS,CAAC/D,MAAM,KAAK6B,UAAU,CAACoC,IAAI,IAC9DF,SAAS,CAAC1D,SAAS,KAAKwB,UAAU,CAACxB,SAAS,IAC5C0D,SAAS,CAAC7D,OAAO,KAAK2B,UAAU,CAAC3B,OAAO,IACxC6D,SAAS,CAAC9D,MAAM,KAAK4B,UAAU,CAAC5B,MAAM,IACtC8D,SAAS,CAAC3D,iBAAiB,KAAKyB,UAAU,CAACzB,iBAAiB;EAChE,IAAI,CAAC4D,qBAAqB,EAAE;IACxB,MAAM,IAAIE,cAAc,EAAE;EAClC;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,MAAMpC,qBAAqB,GAAID,UAAU,IAAK;EAC1C,IAAIA,UAAU,CAACrB,YAAY,KAAK,KAAK,EAAE;IACnC,OAAOqB,UAAU;EACzB;EACI,MAAMsC,iBAAiB,GAAG;IAAE,GAAGtC;EAAU,CAAE;EAC/C;EACI,CAAC,WAAW,EAAE,QAAQ,EAAE,YAAY,CAAC,CAACuC,OAAO,CAACC,IAAI,IAAI;IAClD,MAAMC,KAAK,GAAGzC,UAAU,CAACwC,IAAI,CAAC;IAC9B,IAAI,OAAOC,KAAK,KAAK,QAAQ,EAAE;MAC3BH,iBAAiB,CAACE,IAAI,CAAC,GAAGE,SAAS,CAACD,KAAK,CAAC;IACtD;EACA,CAAK,CAAC;EACN;EACI,IAAIzC,UAAU,CAACG,QAAQ,EAAE;IACrBmC,iBAAiB,CAACnC,QAAQ,GAAGH,UAAU,CAACG,QAAQ,CAACC,GAAG,CAACuC,OAAO,KAAK;MAC7D,GAAGA,OAAO;MACVpC,GAAG,EAAEoC,OAAO,CAACpC,GAAG,GAAGmC,SAAS,CAACC,OAAO,CAACpC,GAAG,CAAC,GAAGoC,OAAO,CAACpC;IAChE,CAAS,CAAC,CAAC;EACX;EACA;EACI,IAAIP,UAAU,CAACuB,cAAc,EAAE;IAC3Be,iBAAiB,CAACf,cAAc,GAAGvB,UAAU,CAACuB,cAAc,CAACnB,GAAG,CAACuC,OAAO,KAAK;MACzE,GAAGA,OAAO;MACVvE,MAAM,EAAEuE,OAAO,CAACvE,MAAM,GAAGsE,SAAS,CAACC,OAAO,CAACvE,MAAM,CAAC,GAAGuE,OAAO,CAACvE;IACzE,CAAS,CAAC,CAAC;EACX;EACI,OAAOkE,iBAAiB;AAC5B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}